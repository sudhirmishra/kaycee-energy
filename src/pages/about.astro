---
import { getCollection } from "astro:content";
import { Picture } from "astro:assets";
import Layout from "@/layouts/Layout.astro";
import Container from "@/components/container.astro";
import Sectionhead from "@/components/sectionhead.astro";
import Hero from "@/components/hero.astro";
// import Breadcrumb from "@/components/Breadcrumb.astro"; // MODIFIED: Commented out Breadcrumb import
import Features from "@/components/features.astro";
import Testimonials from "@/components/Testimonials.astro";
// import WhyChooseUs from "@/components/WhyChooseUs.astro"; // Commented out import

// Filter team entries with 'draft: false' & date before current date
const publishedTeamMembers = await getCollection("team", ({ data }) => {
  return !data.draft && data.publishDate < new Date();
});

const features = {
  // ...existing code...
};

const testimonials = [
  // ...existing code...
];

const whyChooseUsCardData = [
  {
    "title": "Innovative Solutions",
    "description": "Proudly tailoring cutting-edge solutions to your needs, benefiting from innovation's state-of-the-art edge."
  },
  {
    "title": "Quality Assurance",
    "description": "Quality is our cornerstone. Stringent standards ensure top reliability and performance in every solution."
  },
  {
    "title": "Timely Delivery",
    "description": "We value energy sector deadlines. Our efficient project management ensures timely delivery, quality intact."
  },
  {
    "title": "Sustainability",
    "description": "Committed to eco-friendly EPC solutions, we minimize impact while maximizing efficiency responsibly."
  },
  {
    "title": "Expertise",
    "description": "With years of honed expertise, our dedicated professionals ensure EHV power transmission success."
  }
];
---

<Layout title="About">
  {/* <WhyChooseUs /> */}
  <Hero title="About" />
  <Container>
    {/* Breadcrumb Section - MODIFIED: Commented out Breadcrumb usage
    <Breadcrumb
      items={[
        { label: "Home", href: "/" },
        { label: "About" }
      ]}
    />
    */}

    <h1 class="text-center text-3xl font-bold mb-6">About Us</h1>
    <p class="text-center mb-8">Learn more about our company and values.</p>

    <Sectionhead>
      <Fragment slot="title">About</Fragment>
      <Fragment slot="desc">We are a small passionate team.</Fragment>
    </Sectionhead>

    <div class="flex flex-col gap-3 mx-auto max-w-4xl mt-16">
      <h2 class="font-bold text-3xl text-gray-800">
        Empowering the world with Astro.
      </h2>
      <p class="text-lg leading-relaxed text-slate-500">
        We're a multi-cultural team from around the world! We come from diverse
        backgrounds, bringing different personalities, experiences and skills to
        the job. This is what makes our team so special.
      </p>
      <h2 class="font-bold text-3xl text-gray-800 mt-6">
        Our Story
      </h2>
      <p class="text-lg leading-relaxed text-slate-500">
        Our journey began with a shared vision to revolutionize the energy
        sector. With decades of combined experience, our founders started
        Kaycee Energy to provide innovative solutions to complex energy
        challenges. We have grown from a small startup into an industry
        leader, but our commitment to our mission remains as strong as
        ever.
      </p>
      <h2 class="font-bold text-3xl text-gray-800 mt-6">
        Our Values
      </h2>
      <p class="text-lg leading-relaxed text-slate-500">
        At the core of Kaycee Energy are our values: integrity, innovation,
        and impact. We believe in doing the right thing, pushing the
        boundaries of what's possible, and making a positive difference in
        the world. These values guide our decisions, shape our culture,
        and drive our success.
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center my-12">
      <div>
        <h2 class="text-3xl font-bold mb-4">Our Mission</h2>
        <p class="text-lg text-gray-600 mb-4">
          At Kaycee Energy, our mission is to be a leader in the EHV power
          transmission sector, delivering innovative and sustainable solutions
          that empower communities and drive progress. We are committed to
          excellence, safety, and environmental stewardship in all our projects.
        </p>
        <h2 class="text-3xl font-bold mb-4">Our Vision</h2>
        <p class="text-lg text-gray-600">
          We envision a future where energy is accessible, reliable, and
          sustainably sourced. Kaycee Energy aims to be at the forefront of this
          transformation, pioneering new technologies and approaches to power
          transmission that benefit society and the planet.
        </p>
      </div>
      <div>
        <img
          src="/src/assets/about/hero-2-1.jpg"
          alt="Our Mission and Vision"
          class="rounded-lg shadow-lg"
        />
      </div>
    </div>

    <!-- WhyChooseUs section directly embedded -->
    <section class="py-16 md:py-24 bg-slate-50">
      <div class="container mx-auto px-4">
        <div class="text-center mb-12 md:mb-16">
          <p class="text-lg text-primary font-semibold mb-2 tracking-wide">Since from 2000</p>
          <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900">Why you Choose us</h2>
        </div>
    
        <div class="flex overflow-x-auto space-x-6 md:space-x-8 pb-6 -mb-6 custom-scrollbar">
          {whyChooseUsCardData.map((card) => (
            <div class="flex-none w-72 sm:w-80 bg-white p-6 md:p-8 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 ease-in-out transform hover:-translate-y-1">
              <h3 class="text-xl md:text-2xl font-semibold text-gray-800 mb-4">{card.title}</h3>
              <p class="text-gray-600 text-base leading-relaxed">{card.description}</p>
            </div>
          ))}
        </div>
      </div>
    </section>
    <!-- End of WhyChooseUs section -->

    <Features
      title="Our Core Values"
      subtitle="Guiding Principles"
      features={features.data}
      columns="3"
    />

    <Testimonials data={testimonials} />

    <div class="mt-16">
      <Sectionhead>
        <Fragment slot="title">Meet the Team</Fragment>
        <Fragment slot="desc">Our experts are here to help.</Fragment>
      </Sectionhead>

      <ul
        class="grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3 mt-12"
      >
        {publishedTeamMembers.map((item) => (
          <li class="flex flex-col items-center text-center">
            {item.data.avatar && (
              <div class="w-32 h-32 mb-4 rounded-full overflow-hidden">
                <Picture
                  src={item.data.avatar}
                  alt={item.data.name}
                  widths={[200, 400, 800]}
                  sizes="(max-width: 200px) 100vw, 200px"
                  aspectRatio="1:1"
                  class="object-cover w-full h-full"
                />
              </div>
            )}
            <h3 class="text-xl font-bold text-gray-800">{item.data.name}</h3>
            <p class="text-gray-500">{item.data.title}</p>
          </li>
        ))}
      </ul>
    </div>
    
  </Container>
</Layout>

<style is:global>
  .custom-scrollbar::-webkit-scrollbar {
    height: 8px;
  }
  .custom-scrollbar::-webkit-scrollbar-track {
    background: #e5e7eb; /* Tailwind gray-200 */
    border-radius: 10px;
  }
  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: #9ca3af; /* Tailwind gray-400 */
    border-radius: 10px;
  }
  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: #6b7280; /* Tailwind gray-500 */
  }
  /* For Firefox */
  .custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: #9ca3af #e5e7eb; /* thumb and track */
  }
</style>
